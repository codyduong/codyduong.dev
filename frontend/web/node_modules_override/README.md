# Razzle scripts

For modifying any node_modules, that way I don't have to create a forked repo, I can just copy these dirs into node_modules.

<table>
  <tr>
    <th>module</th>
    <th>reason</th>
  </tr>
  <tr>
    <td>razzle</td>
    <td>
      <ul>
        <li><code>./config/loadRazzleConfig.js</code> - Fix <code>type: module</code> support in Windows</li>
        <li><code>./config/createConfigAsync.js</code> - Fix HMR</li>
      </ul>
    </td>
  </tr>
  <tr>
    <td>react-scripts</td>
    <td>
      <code>./lib/react-app.d.ts</code> - Replaces type declaration for <code>.svg</code> imports</li>
    </td>
  </tr>
    <tr>
    <td>@loadable</td>
    <td>
      <code>./server/lib/util.js</code> - Wraps anonymous function with parentheses
    </td>
  </tr>
</table>

<!--
SPECIFICS

razzle
------
- loadRazzleConfig.js - uses pathToFileURL to fix import path on Windows
- createConfigAsync.js - disables HMR, HMR is not implemented for module chunk format yet
- start.js - enable stats callback
- prettyNodeErrors.js - convert to ESM

react-app.d.ts
--------------
- react-app.d.ts - self explanatory

@apollo and others
------------------
- @apollo/package.json
- ts-invariant/package.json
https://github.com/apollographql/apollo-feature-requests/issues/287#issuecomment-1065845661

HMR
---
  Error: Cannot find module 'C:\Users\duong\codyduongweb\frontend\web\node_modules\webpack\hot\log-apply-result' imported from C:\Users\duong\codyduongweb\frontend\web\build\server.js
  Did you mean to import webpack/hot/log-apply-result.js?
-> modify razzle-start-server-webpack-plugin\dist\monitor.js

-->